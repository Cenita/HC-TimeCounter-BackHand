{% extends 'base.html' %}
{% block header %}
    <link rel="stylesheet" href="{{ url_for('static',filename='css/countNumber.css') }}">
    <script src="{{ url_for('static',filename='js/countNumber.js') }}"></script>
    <script src="{{ url_for('static',filename='js/echarts.min.js') }}"></script>
    <script src="{{ url_for('static',filename='js/tips.js') }}"></script>
{% endblock %}
{% block body %}

    {% if session['user_id'] %}
    <div class="mdui-container-fluid" style="height: 500px">
        <div class="mdui-row">
            <div class="mdui-col-xs-1"></div>
            <div class="mdui-col-xs-10">
                <div class="user" style="text-align: center;">
                    <img src="{{ session['avatar'] }}" width="150px" style="border-radius: 100%;" alt="">
                    <div class="name" style=""><span>{{user.user_name}}</span></div>
                    <div class="status">
                        <i class="mdui-icon material-icons" id="run_icon"  data-toggle="tooltip" data-placement="top" title="{% if user.inTheRoom=='Y' %}正在计时中{% else %}停止计时{% endif %}" style="font-size: 50px;color: {% if user.inTheRoom=='Y' %}#00bfa5{% else %}red{% endif %}">{% if user.inTheRoom=='Y' %}directions_run{% else %}priority_high{% endif %}</i>
                    </div>
                    <div class="week_time mdui-row" isInTheRoom="{{ user.inTheRoom }}">
                        <div class="hours mdui-col-xs-3" data-toggle="tooltip" data-placement="top" title="时（Hours）"><div class="hoursNums" value="{{ user.Hours }}"></div></div>
                        <div class="dian mdui-col-xs-1">:</div>
                        <div class="minutes mdui-col-xs-3" data-toggle="tooltip" data-placement="top" title="分（Minutes）"><div class="rq"><div class="minuetsNums" value="{{ user.Minutes }}"></div></div></div>
                        <div class="dian mdui-col-xs-1">:</div>
                        <div class="seconds mdui-col-xs-3" style="margin-right: 0px" data-toggle="tooltip" data-placement="top" title="秒（Seconds）"><div class="secondNums" value="{{ user.Seconds }}"></div></div>
                    </div>
                </div>

            </div>
            <div class="mdui-col-xs-1"></div>
        </div>
    </div>
    <div class="mdui-container" style="margin-top: 50px">
        <div class="mdui-row">
            <div class="mdui-table-fluid">
                <div class="mdui-container">
                    <div class="mdui-tab" mdui-tab>
                        <a href="#example2" class="mdui-ripple">本周计时图</a>
                    </div>
                    <div id="example2" class="mdui-p-a-2">
                        <div id="yesterday_timer_graphy" class="mdui-col-xs-12"  style="height:400px"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <div class="mdui-container" style="margin-top: 50px">
        <div class="mdui-row">
            <div class="mdui-table-fluid">
                <div class="mdui-container">
                    <div class="mdui-tab" mdui-tab>
                        <a href="#this_week" class="mdui-ripple">本周计时</a>
                        <a href="#two_week" class="mdui-ripple">两周计时</a>
                        <a href="#this_mouth" class="mdui-ripple">本月计时</a>
                        <a href="#this_semester" class="mdui-ripple">本学期计时</a>
                    </div>
                    <div id="this_week" class="mdui-p-a-2"><table class="mdui-table">
                        <thead>
                        <tr>
                            <th class="mdui-col-xs-1">排行</th>
                            <th class="mdui-col-xs-1" style="text-align: center">姓名</th>
                            <th class="mdui-col-xs-10">计时时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for t in one_week %}
                            {% if t.isInTheRoom=='Y' %}
                                <tr>
                                    <td>{{t.num}}</td>
                                    <td>
                                        <div class="mdui-chip" style="background: white" >
                                            <img class="mdui-chip-icon" src="{{t.head}}"/>
                                            <span class="mdui-chip-title">{{ t.name }}</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="progress mdui-ripple" data-toggle="tooltip" data-placement="top" title="{{ t.time }}" style="margin-bottom: 0px;height: 30px;line-height: 30px;">
                                            <div class="progress-bar {% if t.isInTheRoom=='Y' %}progress-bar-striped{% endif %} {% if t.prograss>=100 %}progress-bar-success{% elif t.prograss>62.3 %}progress-bar-info{% else %}progress-bar-danger{% endif %} active" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: {{ t.prograss }}%">
                                                <span style="line-height: 30px">{{t.time}}</span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                        {% for t in one_week %}
                            {% if t.isInTheRoom=='F' %}
                                <tr>
                                    <td>{{t.num}}</td>
                                    <td>
                                        <div class="mdui-chip" style="background: white" >
                                            <img class="mdui-chip-icon" src="{{t.head}}"/>
                                            <span class="mdui-chip-title">{{ t.name }}</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="progress mdui-ripple" data-toggle="tooltip" data-placement="top" title="{{ t.time }}" style="margin-bottom: 0px;height: 30px;line-height: 30px;">
                                            <div class="progress-bar {% if t.isInTheRoom=='Y' %}progress-bar-striped{% endif %} {% if t.prograss>=100 %}progress-bar-success{% elif t.prograss>62.3 %}progress-bar-info{% else %}progress-bar-danger{% endif %} active" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: {{ t.prograss }}%">
                                                <span style="line-height: 30px">{{t.time}}</span>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                        </tbody>
                    </table></div>
                    <div id="two_week" class="mdui-p-a-2"><table class="mdui-table">
                        <thead>
                        <tr>
                            <th class="mdui-col-xs-1">排行</th>
                            <th class="mdui-col-xs-1" style="text-align: center">姓名</th>
                            <th class="mdui-col-xs-10">计时时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for t in one_two_week %}
                        <tr>
                            <td>{{t.num}}</td>
                            <td>
                                <div class="mdui-chip" style="background: white" >
                                    <img class="mdui-chip-icon" src="{{t.head}}"/>
                                    <span class="mdui-chip-title">{{ t.name }}</span>
                                </div>
                            </td>
                            <td>
                                <div class="progress mdui-ripple" data-toggle="tooltip" data-placement="top" title="{{ t.time }}" style="margin-bottom: 0px;height: 30px;line-height: 30px;">
                                    <div class="progress-bar {% if t.isInTheRoom=='Y' %}progress-bar-striped{% endif %} {% if t.prograss>80 %}progress-bar-success{% elif t.prograss>40 %}progress-bar-info{% else %}progress-bar-danger{% endif %} active" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: {{ t.prograss }}%">
                                        <span style="line-height: 30px">{{t.time}}</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table></div>
                    <div id="this_mouth" class="mdui-p-a-2"><table class="mdui-table">
                        <thead>
                        <tr>
                            <th class="mdui-col-xs-1">排行</th>
                            <th class="mdui-col-xs-1" style="text-align: center">姓名</th>
                            <th class="mdui-col-xs-10">计时时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for t in one_mouth %}
                        <tr>
                            <td>{{t.num}}</td>
                            <td>
                                <div class="mdui-chip" style="background: white" >
                                    <img class="mdui-chip-icon" src="{{t.head}}"/>
                                    <span class="mdui-chip-title">{{ t.name }}</span>
                                </div>
                            </td>
                            <td>
                                <div class="progress mdui-ripple" data-toggle="tooltip" data-placement="top" title="{{ t.time }}" style="margin-bottom: 0px;height: 30px;line-height: 30px;">
                                    <div class="progress-bar {% if t.isInTheRoom=='Y' %}progress-bar-striped{% endif %} {% if t.prograss>80 %}progress-bar-success{% elif t.prograss>40 %}progress-bar-info{% else %}progress-bar-danger{% endif %} active" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: {{ t.prograss }}%">
                                        <span style="line-height: 30px">{{t.time}}</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table></div>
                    <div id="this_semester" class="mdui-p-a-2"><table class="mdui-table">
                        <thead>
                        <tr>
                            <th class="mdui-col-xs-1">排行</th>
                            <th class="mdui-col-xs-1" style="text-align: center">姓名</th>
                            <th class="mdui-col-xs-10">计时时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for t in one_semester %}
                            <tr>
                                <td>{{t.num}}</td>
                                <td>
                                    <div class="mdui-chip" style="background: white" >
                                        <img class="mdui-chip-icon" src="{{t.head}}"/>
                                        <span class="mdui-chip-title">{{ t.name }}</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="progress mdui-ripple" data-toggle="tooltip" data-placement="top" title="{{ t.time }}" style="margin-bottom: 0px;height: 30px;line-height: 30px;">
                                        <div class="progress-bar {% if t.isInTheRoom=='Y' %}progress-bar-striped{% endif %} {% if t.prograss>80 %}progress-bar-success{% elif t.prograss>40 %}progress-bar-info{% else %}progress-bar-danger{% endif %} active" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100" style="width: {{ t.prograss }}%">
                                            <span style="line-height: 30px">{{t.time}}</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    </div>

                </div>

            </div>
        </div>
    </div>
{% endblock %}
{% block footerJs %}
    <script src="{{ url_for('static',filename='js/init_graphy.js') }}"></script>
    <script src="{{ url_for('static',filename='js/init_count.js') }}"></script>
{% endblock %}

